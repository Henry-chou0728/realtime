【技術報告】OpenAI 即時語音中繼伺服器一、 系統核心目的本程式的主要功能是作為一個安全中繼站。傳統風險：若直接將 OpenAI 金鑰放網頁，任何人都能偷走你的點數。本程式解決方案：由後端（伺服器）保管金鑰，僅發放「限時 1 分鐘有效」的臨時通行證給前端使用者，確保系統安全。二、 運作流程圖此流程確保了金鑰不外流，同時實現低延遲對話：使用者：打開網頁 (/)。前端網頁：向後端請求通行證 (/session)。後端 (FastAPI)：拿著真正的 API Key 去跟 OpenAI 換一張「短期憑證」。OpenAI：核發一個短期憑證（Ephemeral Token）。前端網頁：拿到憑證，直接跟 OpenAI 開始語音即時聊天。三、 程式功能拆解1. 介面提供 (/)動作：讀取 test.html 並回傳。用途：讓使用者看到對話按鈕與介面。2. 通行證核發 (/session) —— 核心邏輯這是最關鍵的部分，它在跟 OpenAI 溝通時設定了三大指令：模型指定：使用 gpt-4o-mini-realtime-preview（專為語音設計，反應速度最快）。音色設定：指定 marin 女聲，讓 AI 聽起來更親切。行為準則：強制要求 AI 使用**「繁體中文（台灣用語）」**，避免出現中國用語。四、 快速技術規格表項目內容開發框架FastAPI (Python)通訊協定HTTP (申請憑證) / WebRTC (語音串流)安全性隱藏 API Key，僅傳遞短期 Token主要套件httpx (非同步請求), dotenv (環境變數)五、 如何測試運行設定金鑰：在 .env 檔案輸入你的 OPENAI_API_KEY。準備網頁：確保同目錄下有 test.html。啟動服務：執行 uvicorn main:app --reload。開始對話：瀏覽器打開 http://localhost:8000 即可測試語音。
